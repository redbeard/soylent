#home.container-fluid
  .row-fluid
    .span12
      .navbar
        .navbar-inner
          .container-fluid
            %a.btn.btn-navbar{"data-target" => ".navbar-responsive-collapse", "data-toggle" => "collapse"}
              %span.icon-bar
              %span.icon-bar
              %span.icon-bar
            %a.brand{:href => "#"} Soylent.mk
            .nav-collapse.collapse.navbar-responsive-collapse
              %ul.nav
                %li.active
                  %a{:href => "#/"} Recipe
                %li
                  %a{:href => "#/products"} Products
              %form.navbar-search.pull-right
                %div.currency
                  %select.currency(ng-model="recipeTreeTableModel.column_order_and_preferences['Price'].preferred_unit")
                    %option.usd(label='USD' value="USD")
                    %option.aud(label='AUD' value="AUD")
  .row-fluid
    .span12
      .ingredients
        %table
          %tbody
            %tr.ingredient
              %th(ng-repeat= 'column in recipeTreeTableModel.columns()' ng-class="{first: $first, odd: $index % 2 == 0, even: $index % 2 == 1 }" class= '{{column.template}} {{column.name.toSymbol()}} {{column.preferences.column_class}}' ng-show='recipeTreeTableModel.show[column.preferences.column_class]')
                %span.header {{column.title}}      
            %tr.items(ng-repeat = 'row in recipeTreeTableModel.rows()' class='{{row.row_class}} {{row.ingredient.__proto__.constructor.name.toSymbol()}}' ng-include="'assets/app/views/ingredients/tree-table-model.html'" ng-controller='IngredientsTreeModelNodeController')
            %tr.add
              %td &nbsp;
              %td(colspan='{{recipeTreeTableModel.columns().length - 1}}')
                %input(auto-complete ui-items="product_autocomplete" ng-model="selected")
                %a(id='{{row.ingredient.name}}' ng-click='addNew(selected)')
                  %span.icon-plus

      .well
        .pref
          %input(type='checkbox' ng-model='recipeTreeTableModel.show["minor"]')
            Show minor elements
        .pref
          %input(type='checkbox' ng-model='recipeTreeTableModel.show["breakdown"]')
            Show breakdown
